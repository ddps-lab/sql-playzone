<form
  method="POST"
  action="{{ script_root }}/api/v1/challenges"
  enctype="multipart/form-data"
>
  <div class="form-group">
    <label for="name"
      >Name<br />
      <small class="form-text text-muted"> The name of your challenge </small>
    </label>
    <input
      type="text"
      class="form-control"
      name="name"
      placeholder="Enter challenge name"
    />
  </div>
  <div class="form-group">
    <label for="category"
      >Category<br />
      <small class="form-text text-muted">
        The category of your challenge
      </small>
    </label>
    <input
      type="text"
      class="form-control"
      name="category"
      placeholder="Enter challenge category"
    />
  </div>
  <div class="form-group">
    <label for="value"
      >Points<br />
      <small class="form-text text-muted">
        The amount of points awarded for solving this challenge
      </small>
    </label>
    <input
      type="number"
      class="form-control"
      name="value"
      placeholder="Enter value"
      required
    />
  </div>
  <div class="form-group">
    <label for="description"
      >Description<br />
      <small class="form-text text-muted">
        Use this to give a brief description of your challenge. The description
        supports HTML and Markdown.
      </small>
    </label>
    <textarea
      id="new-desc-editor"
      class="form-control"
      name="description"
      rows="10"
    ></textarea>
  </div>

  <!-- SQL Challenge Specific Fields -->
  <div class="form-group">
    <label for="init_query"
      >Initialization Query<br />
      <small class="form-text text-muted">
        SQL queries to initialize the database (CREATE TABLE, INSERT data,
        etc.). Separate multiple statements with semicolons.
      </small>
    </label>
    <textarea
      class="form-control"
      name="init_query"
      rows="10"
      placeholder="CREATE TABLE users (id INTEGER PRIMARY KEY, name TEXT, age INTEGER);
INSERT INTO users VALUES (1, 'Alice', 25);
INSERT INTO users VALUES (2, 'Bob', 30);"
    ></textarea>
  </div>

  <div class="form-group">
    <label for="solution_query"
      >Solution Query<br />
      <small class="form-text text-muted">
        The correct SQL query that produces the expected result.
      </small>
    </label>
    <textarea
      class="form-control"
      name="solution_query"
      rows="5"
      placeholder="SELECT * FROM users WHERE age > 25;"
    ></textarea>
  </div>

  <!-- Test Section -->
  <div class="form-group">
    <label
      >Test Your Queries<br />
      <small class="form-text text-muted">
        Test your initialization and solution queries before saving.
      </small>
    </label>
    <button type="button" class="btn btn-primary" id="test-sql-btn">
      Test SQL Queries
    </button>
    <div id="test-results" class="mt-3" style="display: none">
      <h5>Test Results:</h5>
      <div id="test-output" class="border p-3 bg-body-secondary"></div>
    </div>
  </div>

  <div class="form-group">
    <label for="deadline"
      >Deadline (KST)<br />
      <small class="form-text text-muted">
        The submission deadline for this challenge in Korean Standard Time
        (optional)
      </small>
    </label>
    <input
      type="datetime-local"
      class="form-control"
      name="deadline"
      placeholder="Select deadline"
    />
  </div>

  <div class="form-group">
    <label for="state"
      >State<br />
      <small class="form-text text-muted">
        The state of the challenge (visible, hidden)
      </small>
    </label>
    <select class="form-control" name="state">
      <option value="visible">Visible</option>
      <option value="hidden">Hidden</option>
    </select>
  </div>

  <div class="form-group">
    <label for="max_attempts"
      >Max Attempts<br />
      <small class="form-text text-muted">
        Maximum amount of attempts users receive. Leave at 0 for unlimited.
      </small>
    </label>
    <input
      type="number"
      class="form-control"
      name="max_attempts"
      placeholder="0"
      value="0"
    />
  </div>

  <input type="hidden" name="type" value="sql" />

  <div class="form-group">
    <button
      type="submit"
      id="submit"
      tabindex="5"
      class="btn btn-primary float-md-right"
    >
      Create
    </button>
  </div>
</form>
